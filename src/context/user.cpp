#include <tegia/context/user.h>


namespace tegia {

/////////////////////////////////////////////////////////////////////////////////////////////
/*

*/
/////////////////////////////////////////////////////////////////////////////////////////////


user::user():
	_uuid("00000000-0000-0000-0000-000000000000"),
	_status(0),
	_name(""),
	_surname(""),
	_patronymic(""),
	_gender(1),
	_photo("")	
{
	// std::cout << "create user" << std::endl; 
};


/////////////////////////////////////////////////////////////////////////////////////////////
/*

*/
/////////////////////////////////////////////////////////////////////////////////////////////


user::~user()
{

};


/////////////////////////////////////////////////////////////////////////////////////////////
/*

*/
/////////////////////////////////////////////////////////////////////////////////////////////


void user::role(int role, bool set)
{
	if(set == true)
	{
		this->_roles.set(role);
	}
	else
	{
		this->_roles.reset(role);
	}
};


/////////////////////////////////////////////////////////////////////////////////////////////
/*

*/
/////////////////////////////////////////////////////////////////////////////////////////////


unsigned long long int user::role()
{
	return this->_roles.to_ullong();
};


/////////////////////////////////////////////////////////////////////////////////////////////
/*

*/
/////////////////////////////////////////////////////////////////////////////////////////////


bool user::check(int role)
{
	return this->_roles[role];
};


/////////////////////////////////////////////////////////////////////////////////////////////
/*

*/
/////////////////////////////////////////////////////////////////////////////////////////////


void user::print()
{
	std::cout << _YELLOW_ << "[tegia::user]" << _BASE_TEXT_ << std::endl;
	std::cout << "uuid       = " << this->_uuid << std::endl;
	std::cout << "status     = " << this->_status << std::endl;
	std::cout << "surname    = " << this->_surname << std::endl;
	std::cout << "name       = " << this->_name << std::endl;
	std::cout << "patronymic = " << this->_patronymic << std::endl;
	std::cout << "gender     = " << this->_gender << std::endl;
	std::cout << "roles      = " << this->_roles.to_ullong() << std::endl;
};


/////////////////////////////////////////////////////////////////////////////////////////////
/*

*/
/////////////////////////////////////////////////////////////////////////////////////////////


nlohmann::json user::json()
{
	nlohmann::json tmp;

	tmp["uuid"] = this->_uuid;

	return std::move(tmp);
};


/////////////////////////////////////////////////////////////////////////////////////////////
/*

*/
/////////////////////////////////////////////////////////////////////////////////////////////


std::string user::uuid()
{
	return this->_uuid;
};


/////////////////////////////////////////////////////////////////////////////////////////////
/*

*/
/////////////////////////////////////////////////////////////////////////////////////////////


int user::status()
{
	return this->_status;
};


}	// END NAMESPACE tegia 

